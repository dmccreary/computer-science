<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Generators, decorators, type hints, dataclasses, regular expressions, and standard library modules in Python.">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/computer-science/chapters/20-advanced-python/">
      
      
        <link rel="prev" href="../19-algorithm-analysis/">
      
      
        <link rel="next" href="../../sims/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.43">
    
    
      
        <title>Advanced Python Features - Computer Science</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="../../css/mascot.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-7V8E82XTCL"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-7V8E82XTCL",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-7V8E82XTCL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta property="og:type" content="website">
      
        <meta property="og:title" content="Advanced Python Features - Computer Science">
      
        <meta property="og:description" content="Generators, decorators, type hints, dataclasses, regular expressions, and standard library modules in Python.">
      
        <meta property="og:image" content="https://dmccreary.github.io/computer-science/assets/images/social/chapters/20-advanced-python/index.png">
      
        <meta property="og:image:type" content="image/png">
      
        <meta property="og:image:width" content="1200">
      
        <meta property="og:image:height" content="630">
      
        <meta property="og:url" content="https://dmccreary.github.io/computer-science/chapters/20-advanced-python/">
      
        <meta name="twitter:card" content="summary_large_image">
      
        <meta name="twitter:title" content="Advanced Python Features - Computer Science">
      
        <meta name="twitter:description" content="Generators, decorators, type hints, dataclasses, regular expressions, and standard library modules in Python.">
      
        <meta name="twitter:image" content="https://dmccreary.github.io/computer-science/assets/images/social/chapters/20-advanced-python/index.png">
      
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-python-features" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Computer Science" class="md-header__button md-logo" aria-label="Computer Science" data-md-component="logo">
      
  <img src="../../img/monty-180.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Computer Science
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Python Features
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/computer-science" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Computer Science" class="md-nav__button md-logo" aria-label="Computer Science" data-md-component="logo">
      
  <img src="../../img/monty-180.png" alt="logo">

    </a>
    Computer Science
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/computer-science" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course Description
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Chapters
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Chapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-intro-to-computer-science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Intro to Computer Science
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-python-fundamentals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Python Fundamentals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-boolean-logic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Boolean Logic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-control-flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Control Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-working-with-strings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Working with Strings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-functions-and-modular-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Functions and Modular Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-higher-order-functions-and-recursion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Higher-Order Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. Lists
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-advanced-list-operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9. Advanced List Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-tuples-and-sets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10. Tuples and Sets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-dictionaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11. Dictionaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-classes-and-objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12. Classes and Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-inheritance-and-polymorphism/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13. Inheritance and Polymorphism
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-errors-and-exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14. Errors and Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-file-input-and-output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15. File Input and Output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-software-engineering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16. Software Engineering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-testing-and-debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17. Testing and Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../18-searching-and-sorting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18. Searching and Sorting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19-algorithm-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19. Algorithm Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    20. Advanced Python
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    20. Advanced Python
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generators-the-lazy-geniuses" class="md-nav__link">
    <span class="md-ellipsis">
      Generators: The Lazy Geniuses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generators: The Lazy Geniuses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-yield-statement" class="md-nav__link">
    <span class="md-ellipsis">
      The Yield Statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generator-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Generator Expressions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-vs-generator-memory" class="md-nav__link">
    <span class="md-ellipsis">
      List vs Generator Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="List vs Generator Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-generator-vs-list-memory" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Generator vs List Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comprehension-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehension Patterns
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators-gift-wrapping-your-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators: Gift-Wrapping Your Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decorators: Gift-Wrapping Your Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#closures" class="md-nav__link">
    <span class="md-ellipsis">
      Closures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Writing Decorators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing Decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-how-decorators-work" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: How Decorators Work
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#args-kwargs-and-unpacking" class="md-nav__link">
    <span class="md-ellipsis">
      Args, Kwargs, and Unpacking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Args, Kwargs, and Unpacking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#args-variable-positional-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      *args: Variable Positional Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kwargs-variable-keyword-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      **kwargs: Variable Keyword Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unpacking-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Unpacking Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-walrus-operator" class="md-nav__link">
    <span class="md-ellipsis">
      The Walrus Operator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-hints-and-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Type Hints and Annotations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataclasses-classes-without-the-boilerplate" class="md-nav__link">
    <span class="md-ellipsis">
      Dataclasses: Classes Without the Boilerplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-enum-type" class="md-nav__link">
    <span class="md-ellipsis">
      The Enum Type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regular-expressions-pattern-matching-for-text" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Expressions: Pattern Matching for Text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Regular Expressions: Pattern Matching for Text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-regex-pattern-tester" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Regex Pattern Tester
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-collections-module" class="md-nav__link">
    <span class="md-ellipsis">
      The Collections Module
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Collections Module">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#counter-class" class="md-nav__link">
    <span class="md-ellipsis">
      Counter Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaultdict" class="md-nav__link">
    <span class="md-ellipsis">
      DefaultDict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordereddict" class="md-nav__link">
    <span class="md-ellipsis">
      OrderedDict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#named-tuples" class="md-nav__link">
    <span class="md-ellipsis">
      Named Tuples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Named Tuples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-collections-module-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Collections Module Overview
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-itertools-module" class="md-nav__link">
    <span class="md-ellipsis">
      The Itertools Module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-functools-module" class="md-nav__link">
    <span class="md-ellipsis">
      The Functools Module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context-manager-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      Context Manager Protocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Context Manager Protocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-context-manager-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Context Manager Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Python Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-python-best-practices-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Python Best Practices Checklist
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      Putting It All Together
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../sims/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MicroSims
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../learning-graph/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Learning Graph
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../prompts/index.md" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generators-the-lazy-geniuses" class="md-nav__link">
    <span class="md-ellipsis">
      Generators: The Lazy Geniuses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generators: The Lazy Geniuses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-yield-statement" class="md-nav__link">
    <span class="md-ellipsis">
      The Yield Statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generator-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Generator Expressions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-vs-generator-memory" class="md-nav__link">
    <span class="md-ellipsis">
      List vs Generator Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="List vs Generator Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-generator-vs-list-memory" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Generator vs List Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comprehension-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehension Patterns
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators-gift-wrapping-your-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators: Gift-Wrapping Your Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decorators: Gift-Wrapping Your Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#closures" class="md-nav__link">
    <span class="md-ellipsis">
      Closures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Writing Decorators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing Decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-how-decorators-work" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: How Decorators Work
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#args-kwargs-and-unpacking" class="md-nav__link">
    <span class="md-ellipsis">
      Args, Kwargs, and Unpacking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Args, Kwargs, and Unpacking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#args-variable-positional-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      *args: Variable Positional Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kwargs-variable-keyword-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      **kwargs: Variable Keyword Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unpacking-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Unpacking Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-walrus-operator" class="md-nav__link">
    <span class="md-ellipsis">
      The Walrus Operator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-hints-and-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Type Hints and Annotations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataclasses-classes-without-the-boilerplate" class="md-nav__link">
    <span class="md-ellipsis">
      Dataclasses: Classes Without the Boilerplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-enum-type" class="md-nav__link">
    <span class="md-ellipsis">
      The Enum Type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regular-expressions-pattern-matching-for-text" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Expressions: Pattern Matching for Text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Regular Expressions: Pattern Matching for Text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-regex-pattern-tester" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Regex Pattern Tester
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-collections-module" class="md-nav__link">
    <span class="md-ellipsis">
      The Collections Module
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Collections Module">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#counter-class" class="md-nav__link">
    <span class="md-ellipsis">
      Counter Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaultdict" class="md-nav__link">
    <span class="md-ellipsis">
      DefaultDict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordereddict" class="md-nav__link">
    <span class="md-ellipsis">
      OrderedDict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#named-tuples" class="md-nav__link">
    <span class="md-ellipsis">
      Named Tuples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Named Tuples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-collections-module-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Collections Module Overview
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-itertools-module" class="md-nav__link">
    <span class="md-ellipsis">
      The Itertools Module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-functools-module" class="md-nav__link">
    <span class="md-ellipsis">
      The Functools Module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context-manager-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      Context Manager Protocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Context Manager Protocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-context-manager-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Context Manager Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Python Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-python-best-practices-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Python Best Practices Checklist
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      Putting It All Together
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/dmccreary/computer-science/blob/master/docs/chapters/20-advanced-python/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
    </a>
  
  


<h1 id="advanced-python-features">Advanced Python Features</h1>
<h2 id="summary">Summary</h2>
<p>This chapter introduces advanced Python language features for experienced students ready to deepen their skills. Students will learn about generators and the yield statement, decorators and closures, variable-length arguments (<em>args/</em>*kwargs), type hints and annotations, dataclasses, enums, and regular expressions. The chapter also covers key standard library modules including collections (Counter, OrderedDict, DefaultDict, namedtuple), itertools, and functools, along with best practices for writing professional Python code.</p>
<h2 id="concepts-covered">Concepts Covered</h2>
<p>This chapter covers the following 24 concepts from the learning graph:</p>
<ol>
<li>Generators</li>
<li>Yield Statement</li>
<li>Generator Expressions</li>
<li>Decorators</li>
<li>Closures</li>
<li>Args and Kwargs</li>
<li>Unpacking Operators</li>
<li>Walrus Operator</li>
<li>Type Hints</li>
<li>Type Annotations</li>
<li>Dataclasses</li>
<li>Enum Type</li>
<li>Regular Expressions</li>
<li>Collections Module</li>
<li>Itertools Module</li>
<li>Functools Module</li>
<li>List vs Generator Memory</li>
<li>Comprehension Patterns</li>
<li>Context Manager Protocol</li>
<li>Python Best Practices</li>
<li>Named Tuples</li>
<li>OrderedDict</li>
<li>DefaultDict</li>
<li>Counter Class</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<p>This chapter builds on concepts from:</p>
<ul>
<li><a href="../02-python-fundamentals/">Chapter 2: Python Fundamentals</a></li>
<li><a href="../04-control-flow/">Chapter 4: Control Flow</a></li>
<li><a href="../06-functions-and-modular-design/">Chapter 6: Functions and Modular Design</a></li>
<li><a href="../07-higher-order-functions-and-recursion/">Chapter 7: Higher-Order Functions and Recursion</a></li>
<li><a href="../08-lists/">Chapter 8: Lists</a></li>
<li><a href="../10-tuples-and-sets/">Chapter 10: Tuples and Sets</a></li>
<li><a href="../11-dictionaries/">Chapter 11: Dictionaries</a></li>
<li><a href="../12-classes-and-objects/">Chapter 12: Classes and Objects</a></li>
<li><a href="../13-inheritance-and-polymorphism/">Chapter 13: Inheritance and Polymorphism</a></li>
<li><a href="../16-software-engineering/">Chapter 16: Software Engineering Practices</a></li>
</ul>
<hr>
<div class="admonition mascot-welcome">
<p class="admonition-title">Monty says: Let's code this!</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/monty-welcome.png" data-desc-position="bottom"><img align="left" alt="Monty" src="../../img/monty-welcome.png" width="80"></a>
Welcome to the final chapter, coders! You've built an incredible foundation over the last 19 chapters. Now it's time to level up and explore the advanced features that make Python one of the most beloved languages on the planet. Think of this chapter as unlocking the secret menu -- the powerful tools that experienced Python developers reach for every day. Let's do this!</p>
</div>
<h2 id="generators-the-lazy-geniuses">Generators: The Lazy Geniuses</h2>
<p>Imagine you work in a warehouse full of one million packages. If someone asks for all of them, you could load every single package onto a truck at once. But that truck would be <em>enormous</em>, and it would take forever to load. Wouldn't it be smarter to put packages on a conveyor belt and deliver them one at a time? That's exactly the difference between a list and a generator.</p>
<p>A <strong>generator</strong> is a special kind of function that produces values one at a time instead of building an entire list in memory. It's like a conveyor belt that manufactures items on demand rather than a warehouse that stores everything upfront. This "lazy" approach is incredibly memory-efficient.</p>
<h3 id="the-yield-statement">The Yield Statement</h3>
<p>Normal functions use <code>return</code> to send back a value and then they're done -- the function is finished. A generator function uses the <strong>yield statement</strong> instead. When a generator hits <code>yield</code>, it <em>pauses</em> execution, hands you the value, and waits. The next time you ask for a value, it picks up right where it left off.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">countdown</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""A generator that counts down from n to 1."""</span>
    <span class="k">while</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">n</span>
        <span class="n">n</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="c1"># Using the generator</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">countdown</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="c1"># Output: 5, 4, 3, 2, 1</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Notice that <code>countdown</code> uses <code>yield</code> instead of <code>return</code>. Each time the <code>for</code> loop asks for the next value, the generator wakes up, runs until it hits <code>yield</code> again, and hands over the next number. It's like a storyteller who pauses after each chapter and waits for you to say "keep going."</p>
<h3 id="generator-expressions">Generator Expressions</h3>
<p>Just like list comprehensions give you a shortcut for building lists, <strong>generator expressions</strong> give you a shortcut for building generators. The syntax looks almost identical -- just swap the square brackets <code>[]</code> for parentheses <code>()</code>.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># List comprehension -- builds the entire list in memory</span>
<span class="n">squares_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">)]</span>

<span class="c1"># Generator expression -- produces values one at a time</span>
<span class="n">squares_gen</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">))</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The list version creates a million numbers right away and stores them all. The generator version creates them one at a time as you iterate over it. For large datasets, the difference in memory usage is massive.</p>
<h3 id="list-vs-generator-memory">List vs Generator Memory</h3>
<p>Let's make the <strong>list vs generator memory</strong> trade-off crystal clear.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>List</th>
<th>Generator</th>
</tr>
</thead>
<tbody>
<tr>
<td>Memory usage</td>
<td>Stores ALL items at once</td>
<td>Stores ONE item at a time</td>
</tr>
<tr>
<td>Speed to start</td>
<td>Slow (must build entire list)</td>
<td>Instant (produces on demand)</td>
</tr>
<tr>
<td>Reusable?</td>
<td>Yes, iterate as many times as you want</td>
<td>No, once exhausted it's done</td>
</tr>
<tr>
<td>Random access?</td>
<td>Yes (<code>my_list[42]</code>)</td>
<td>No (must iterate sequentially)</td>
</tr>
<tr>
<td>Best for</td>
<td>Small data, repeated access</td>
<td>Large data, single pass</td>
</tr>
</tbody>
</table>
<p>Think of it this way: a list is like a printed book you can flip to any page, while a generator is like a live podcast -- you listen in order, and once it's played, it's gone.</p>
<h4 id="diagram-generator-vs-list-memory">Diagram: Generator vs List Memory</h4>
<iframe src="../../sims/generator-vs-list-memory/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Generator vs List Memory MicroSim</summary>
<p>Type: microsim
<strong>sim-id:</strong> generator-vs-list-memory<br>
<strong>Library:</strong> p5.js<br>
<strong>Status:</strong> Specified</p>
<p><strong>Bloom Level:</strong> Understand (L2)
<strong>Bloom Verb:</strong> compare, explain</p>
<p><strong>Learning Objective:</strong> Students will be able to compare memory usage between lists and generators by observing a visual representation of how each stores data.</p>
<p><strong>Purpose:</strong> An animated side-by-side comparison that shows a list filling up a memory block all at once versus a generator producing and releasing one item at a time.</p>
<p><strong>Layout:</strong>
- Left panel: "List" label with a large memory block that fills with colored squares as items are created
- Right panel: "Generator" label with a single-slot conveyor belt that produces, delivers, and discards one item at a time
- Bottom: Memory usage bar chart showing the stark difference</p>
<p><strong>Interactive controls:</strong>
- "Generate Items" button that produces 20 items and shows both approaches simultaneously
- Speed slider to control animation pace
- "Reset" button to clear and start over
- Counter showing current memory usage for each approach</p>
<p><strong>Visual style:</strong> Clean blocks, green for active items, gray for empty slots, red warning glow when list memory gets large
<strong>Responsive:</strong> Canvas adjusts to window width</p>
<p><strong>Instructional Rationale:</strong> Visual comparison of memory allocation makes the abstract concept of lazy evaluation concrete. Students see the list panel filling up while the generator panel stays lean, reinforcing why generators are preferred for large datasets.</p>
</details>
<h2 id="comprehension-patterns">Comprehension Patterns</h2>
<p>You've used list comprehensions before. Now let's look at all the <strong>comprehension patterns</strong> Python offers. They're one of Python's most elegant features -- compact, readable ways to transform data.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># List comprehension</span>
<span class="n">evens</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># Dictionary comprehension</span>
<span class="n">word_lengths</span> <span class="o">=</span> <span class="p">{</span><span class="n">word</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"python"</span><span class="p">,</span> <span class="s2">"is"</span><span class="p">,</span> <span class="s2">"fun"</span><span class="p">]}</span>

<span class="c1"># Set comprehension</span>
<span class="n">unique_remainders</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span> <span class="o">%</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>

<span class="c1"># Generator expression (not stored, iterated lazily)</span>
<span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The pattern is always the same: <code>expression for variable in iterable if condition</code>. Once you master this pattern, you can express in one line what used to take four or five.</p>
<div class="admonition mascot-thinking">
<p class="admonition-title">Monty says: You've got this!</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/monty-thinking.png" data-desc-position="bottom"><img align="left" alt="Monty" src="../../img/monty-thinking.png" width="80"></a>
Here's a good rule of thumb: if a comprehension fits on one line and is easy to read, use it. If it needs two or three lines or makes your eyes cross, stick with a regular <code>for</code> loop. Readability always wins!</p>
</div>
<h2 id="decorators-gift-wrapping-your-functions">Decorators: Gift-Wrapping Your Functions</h2>
<p>Imagine you have a birthday present (your function). A <strong>decorator</strong> is like wrapping that present in fancy gift wrap. The present inside is the same, but now it has something extra on the outside -- maybe a bow, a tag, or sparkly paper. In Python, a decorator wraps a function with extra behavior <em>without changing the function itself</em>.</p>
<h3 id="closures">Closures</h3>
<p>Before we dive into decorators, we need to understand <strong>closures</strong>. A closure is a function that "remembers" values from the outer function that created it, even after that outer function has finished running. It's like a note tucked inside an envelope -- the envelope (outer function) may be sealed and mailed, but the note (inner function) still carries the message.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">make_multiplier</span><span class="p">(</span><span class="n">factor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Returns a function that multiplies by the given factor."""</span>
    <span class="k">def</span> <span class="nf">multiplier</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">factor</span>  <span class="c1"># 'factor' is remembered from the outer scope</span>
    <span class="k">return</span> <span class="n">multiplier</span>

<span class="n">double</span> <span class="o">=</span> <span class="n">make_multiplier</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">triple</span> <span class="o">=</span> <span class="n">make_multiplier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">double</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>   <span class="c1"># 10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">triple</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>   <span class="c1"># 15</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The inner <code>multiplier</code> function "closes over" the <code>factor</code> variable. Even though <code>make_multiplier</code> has finished, <code>double</code> remembers that <code>factor</code> is 2.</p>
<h3 id="writing-decorators">Writing Decorators</h3>
<p>Now for the main event. A decorator is a function that takes another function as input, wraps it with extra behavior, and returns the wrapped version.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">log_calls</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""A decorator that prints when a function is called."""</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Calling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">..."</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> finished!"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@log_calls</span>
<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!"</span><span class="p">)</span>

<span class="n">greet</span><span class="p">(</span><span class="s2">"Monty"</span><span class="p">)</span>
<span class="c1"># Output:</span>
<span class="c1"># Calling greet...</span>
<span class="c1"># Hello, Monty!</span>
<span class="c1"># greet finished!</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The <code>@log_calls</code> line is syntactic sugar. It's the same as writing <code>greet = log_calls(greet)</code>. The decorator wraps <code>greet</code> with logging behavior without touching the original function's code.</p>
<h4 id="diagram-how-decorators-work">Diagram: How Decorators Work</h4>
<iframe src="../../sims/decorator-flow/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>How Decorators Work MicroSim</summary>
<p>Type: microsim
<strong>sim-id:</strong> decorator-flow<br>
<strong>Library:</strong> p5.js<br>
<strong>Status:</strong> Specified</p>
<p><strong>Bloom Level:</strong> Understand (L2)
<strong>Bloom Verb:</strong> explain, trace</p>
<p><strong>Learning Objective:</strong> Students will be able to trace how a decorator wraps a function by watching an animated flow diagram of the decoration process.</p>
<p><strong>Purpose:</strong> Visual step-through showing how a decorator function receives an original function, creates a wrapper, and returns the wrapper as the new version.</p>
<p><strong>Layout:</strong>
- Three boxes arranged left to right: "Original Function", "Decorator", "Wrapped Function"
- Arrows showing the flow: original enters decorator, wrapper comes out
- Below: a "Call the function" button that animates execution flowing through the wrapper, into the original, and back out</p>
<p><strong>Interactive controls:</strong>
- "Step Through" button to advance the decoration process one stage at a time
- "Call Function" button to animate a function call flowing through the wrapper
- "Reset" button</p>
<p><strong>Visual elements:</strong>
- Gift wrapping animation: the original function box gets visually "wrapped" with a colored border (the decorator layer)
- Code snippets appear beside each box showing the relevant Python code
- Execution trace highlights each line as it runs</p>
<p><strong>Instructional Rationale:</strong> The gift-wrapping metaphor becomes concrete when students watch the original function get visually wrapped. Step-through execution demystifies what <code>@decorator</code> actually does under the hood.</p>
</details>
<h2 id="args-kwargs-and-unpacking">Args, Kwargs, and Unpacking</h2>
<p>Sometimes you don't know in advance how many arguments a function will receive. That's where <strong>args and kwargs</strong> come in.</p>
<h3 id="args-variable-positional-arguments">*args: Variable Positional Arguments</h3>
<p>The <code>*args</code> syntax lets a function accept any number of positional arguments. They arrive as a tuple.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_all</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Add up any number of values."""</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">add_all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>        <span class="c1"># 6</span>
<span class="nb">print</span><span class="p">(</span><span class="n">add_all</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span> <span class="c1"># 100</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="kwargs-variable-keyword-arguments">**kwargs: Variable Keyword Arguments</h3>
<p>The <code>**kwargs</code> syntax lets a function accept any number of keyword arguments. They arrive as a dictionary.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_profile</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Build a user profile from keyword arguments."""</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">build_profile</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Ada"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">"Python"</span><span class="p">)</span>
<span class="c1"># Output:</span>
<span class="c1"># name: Ada</span>
<span class="c1"># age: 17</span>
<span class="c1"># language: Python</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="unpacking-operators">Unpacking Operators</h3>
<p>The <strong>unpacking operators</strong> <code>*</code> and <code>**</code> aren't just for function definitions -- you can also use them to <em>unpack</em> collections when calling functions or building new collections.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Unpack a list into function arguments</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>  <span class="c1"># Same as print(1, 2, 3)</span>

<span class="c1"># Merge two dictionaries</span>
<span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="s2">"blue"</span><span class="p">,</span> <span class="s2">"size"</span><span class="p">:</span> <span class="s2">"medium"</span><span class="p">}</span>
<span class="n">overrides</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"size"</span><span class="p">:</span> <span class="s2">"large"</span><span class="p">,</span> <span class="s2">"weight"</span><span class="p">:</span> <span class="s2">"heavy"</span><span class="p">}</span>
<span class="n">combined</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">defaults</span><span class="p">,</span> <span class="o">**</span><span class="n">overrides</span><span class="p">}</span>
<span class="c1"># {'color': 'blue', 'size': 'large', 'weight': 'heavy'}</span>

<span class="c1"># Unpack into variables</span>
<span class="n">first</span><span class="p">,</span> <span class="o">*</span><span class="n">rest</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="c1"># first = 1, rest = [2, 3, 4, 5]</span>
</code></pre></div></td></tr></tbody></table></div>
<p>That last trick -- <code>first, *rest = ...</code> -- is called <em>starred assignment</em>, and it's surprisingly handy.</p>
<h2 id="the-walrus-operator">The Walrus Operator</h2>
<p>The <strong>walrus operator</strong> (<code>:=</code>) is one of Python's newest features (added in Python 3.8). It lets you assign a value to a variable <em>as part of an expression</em>. It's called the walrus operator because <code>:=</code> looks like a walrus face turned sideways (the colon is the eyes, the equals sign is the tusks).</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Without walrus operator</span>
<span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter something: "</span><span class="p">)</span>
<span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">"quit"</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"You said: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter something: "</span><span class="p">)</span>

<span class="c1"># With walrus operator -- cleaner!</span>
<span class="k">while</span> <span class="p">(</span><span class="n">line</span> <span class="o">:=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter something: "</span><span class="p">))</span> <span class="o">!=</span> <span class="s2">"quit"</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"You said: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Here's another great use -- filtering with a computation you don't want to repeat:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"hello"</span><span class="p">,</span> <span class="s2">"hi"</span><span class="p">,</span> <span class="s2">"hey there"</span><span class="p">,</span> <span class="s2">"greetings fellow human"</span><span class="p">]:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">text</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="c1"># [('hello', 5), ('hey there', 9), ('greetings fellow human', 22)]</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Without the walrus, you'd have to call <code>len(text)</code> twice or use a separate variable line. The walrus keeps things tight.</p>
<h2 id="type-hints-and-annotations">Type Hints and Annotations</h2>
<p>As your programs grow, it gets harder to remember what types of values each function expects. <strong>Type hints</strong> are optional labels you add to your code to document what types your variables and function parameters should be.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_gpa</span><span class="p">(</span><span class="n">grades</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">credits</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Calculate weighted GPA."""</span>
    <span class="n">total_points</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">g</span> <span class="o">*</span> <span class="n">c</span> <span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">grades</span><span class="p">,</span> <span class="n">credits</span><span class="p">))</span>
    <span class="n">total_credits</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">credits</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">total_points</span> <span class="o">/</span> <span class="n">total_credits</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The <code>: list[float]</code> and <code>-&gt; float</code> parts are type hints. They tell anyone reading the code: "this function takes a list of floats and a list of ints, and returns a float."</p>
<p><strong>Type annotations</strong> are the broader term for adding type information anywhere in your code -- not just function signatures.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Variable annotations</span>
<span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"Monty"</span>
<span class="n">age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">gpa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.85</span>
<span class="n">is_enrolled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">courses</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"CS"</span><span class="p">,</span> <span class="s2">"Math"</span><span class="p">,</span> <span class="s2">"English"</span><span class="p">]</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Type hints don't change how your code <em>runs</em>. Python won't throw an error if you pass the wrong type. But they make your code self-documenting, and tools like <code>mypy</code> can check them for you before your code runs.</p>
<div class="admonition mascot-tip">
<p class="admonition-title">Monty says: Let's debug this together!</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/monty-tip.png" data-desc-position="bottom"><img align="left" alt="Monty" src="../../img/monty-tip.png" width="80"></a>
Type hints are like road signs -- they don't force you to drive a certain way, but they sure help you avoid wrong turns! Start adding them to your function signatures, and you'll catch bugs before they happen.</p>
</div>
<h2 id="dataclasses-classes-without-the-boilerplate">Dataclasses: Classes Without the Boilerplate</h2>
<p>Remember writing classes in Chapter 12? You had to write <code>__init__</code>, maybe <code>__repr__</code>, maybe <code>__eq__</code> -- a lot of repetitive code just to hold some data. <strong>Dataclasses</strong> do all that for you automatically.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">grade</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">gpa</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">honor_roll</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># default value</span>

<span class="c1"># That's it! Python auto-generates __init__, __repr__, and __eq__</span>
<span class="n">ada</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s2">"Ada"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">3.9</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ada</span><span class="p">)</span>  <span class="c1"># Student(name='Ada', grade=10, gpa=3.9, honor_roll=True)</span>

<span class="c1"># Equality works automatically</span>
<span class="n">ada2</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s2">"Ada"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">3.9</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ada</span> <span class="o">==</span> <span class="n">ada2</span><span class="p">)</span>  <span class="c1"># True</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Without <code>@dataclass</code>, you'd need to write about 15 lines of boilerplate code. With it, you need four. Dataclasses are perfect for any class whose main job is to hold data.</p>
<h2 id="the-enum-type">The Enum Type</h2>
<p>Sometimes you have a fixed set of choices -- like compass directions, days of the week, or game difficulty levels. The <strong>enum type</strong> lets you define these as a named set of constants.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="k">class</span> <span class="nc">Difficulty</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">EASY</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">MEDIUM</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">HARD</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">NIGHTMARE</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># Using the enum</span>
<span class="n">current</span> <span class="o">=</span> <span class="n">Difficulty</span><span class="o">.</span><span class="n">HARD</span>
<span class="nb">print</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>        <span class="c1"># Difficulty.HARD</span>
<span class="nb">print</span><span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>   <span class="c1"># HARD</span>
<span class="nb">print</span><span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 3</span>

<span class="c1"># Enums work great in if/match statements</span>
<span class="k">if</span> <span class="n">current</span> <span class="o">==</span> <span class="n">Difficulty</span><span class="o">.</span><span class="n">NIGHTMARE</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Good luck!"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Why not just use strings like <code>"hard"</code> or numbers like <code>3</code>? Because typos happen. If you write <code>"hrad"</code> by mistake, Python won't complain -- it's a valid string. But <code>Difficulty.HRAD</code> will throw an error immediately. Enums catch mistakes early.</p>
<h2 id="regular-expressions-pattern-matching-for-text">Regular Expressions: Pattern Matching for Text</h2>
<p><strong>Regular expressions</strong> (often called "regex") are a powerful mini-language for searching, matching, and manipulating text patterns. They're like wildcards on steroids. Python's <code>re</code> module gives you full regex support.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># Find all email addresses in a text</span>
<span class="n">text</span> <span class="o">=</span> <span class="s2">"Contact ada@example.com or monty@python.org for info"</span>
<span class="n">emails</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">'[\w.]+@[\w.]+\.\w+'</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emails</span><span class="p">)</span>  <span class="c1"># ['ada@example.com', 'monty@python.org']</span>

<span class="c1"># Check if a string matches a pattern</span>
<span class="n">phone</span> <span class="o">=</span> <span class="s2">"555-123-4567"</span>
<span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">'\d</span><span class="si">{3}</span><span class="s1">-\d</span><span class="si">{3}</span><span class="s1">-\d</span><span class="si">{4}</span><span class="s1">'</span><span class="p">,</span> <span class="n">phone</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Valid phone number!"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Here's a cheat sheet of the most common regex patterns:</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Matches</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\d</code></td>
<td>Any digit (0-9)</td>
<td><code>\d{3}</code> matches "123"</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>Any word character (letter, digit, underscore)</td>
<td><code>\w+</code> matches "hello_42"</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>Any whitespace (space, tab, newline)</td>
<td><code>\s+</code> matches "   "</td>
</tr>
<tr>
<td><code>.</code></td>
<td>Any character except newline</td>
<td><code>a.c</code> matches "abc", "a1c"</td>
</tr>
<tr>
<td><code>*</code></td>
<td>Zero or more of the previous</td>
<td><code>ab*c</code> matches "ac", "abc", "abbc"</td>
</tr>
<tr>
<td><code>+</code></td>
<td>One or more of the previous</td>
<td><code>ab+c</code> matches "abc" but not "ac"</td>
</tr>
<tr>
<td><code>?</code></td>
<td>Zero or one of the previous</td>
<td><code>colou?r</code> matches "color" and "colour"</td>
</tr>
<tr>
<td><code>^</code></td>
<td>Start of string</td>
<td><code>^Hello</code> matches "Hello world"</td>
</tr>
<tr>
<td><code>$</code></td>
<td>End of string</td>
<td><code>world$</code> matches "Hello world"</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>Any character in the set</td>
<td><code>[aeiou]</code> matches any vowel</td>
</tr>
<tr>
<td><code>(...)</code></td>
<td>Capture group</td>
<td><code>(\d{3})-(\d{4})</code> captures area code and number</td>
</tr>
<tr>
<td><code>{n}</code></td>
<td>Exactly n of the previous</td>
<td><code>\d{4}</code> matches "2026"</td>
</tr>
<tr>
<td><code>{n,m}</code></td>
<td>Between n and m of the previous</td>
<td><code>\w{3,5}</code> matches 3- to 5-character words</td>
</tr>
</tbody>
</table>
<p>Common <code>re</code> module functions:</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>re.match()</code></td>
<td>Match at the <em>start</em> of a string</td>
<td><code>re.match(r'\d+', '42abc')</code></td>
</tr>
<tr>
<td><code>re.search()</code></td>
<td>Find the <em>first</em> match anywhere</td>
<td><code>re.search(r'\d+', 'abc42def')</code></td>
</tr>
<tr>
<td><code>re.findall()</code></td>
<td>Find <em>all</em> matches</td>
<td><code>re.findall(r'\d+', 'a1b2c3')</code> returns <code>['1','2','3']</code></td>
</tr>
<tr>
<td><code>re.sub()</code></td>
<td>Search and <em>replace</em></td>
<td><code>re.sub(r'\d', '#', 'abc123')</code> returns <code>'abc###'</code></td>
</tr>
<tr>
<td><code>re.split()</code></td>
<td>Split on a pattern</td>
<td><code>re.split(r'[,;]', 'a,b;c')</code> returns <code>['a','b','c']</code></td>
</tr>
</tbody>
</table>
<h4 id="diagram-regex-pattern-tester">Diagram: Regex Pattern Tester</h4>
<iframe src="../../sims/regex-pattern-tester/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Regex Pattern Tester MicroSim</summary>
<p>Type: microsim
<strong>sim-id:</strong> regex-pattern-tester<br>
<strong>Library:</strong> p5.js<br>
<strong>Status:</strong> Specified</p>
<p><strong>Bloom Level:</strong> Apply (L3)
<strong>Bloom Verb:</strong> apply, test</p>
<p><strong>Learning Objective:</strong> Students will be able to write and test simple regular expressions by entering patterns and seeing matches highlighted in real time.</p>
<p><strong>Purpose:</strong> An interactive regex testing tool where students type a pattern and test text, with matches highlighted immediately.</p>
<p><strong>Layout:</strong>
- Top: Input field for the regex pattern with common pattern buttons (\d, \w, \s, ., +, *, etc.)
- Middle: Large text area where students type or paste test text
- Bottom: Results panel showing all matches highlighted in the test text, plus a list of captured groups</p>
<p><strong>Interactive controls:</strong>
- Pattern input field with real-time matching
- Preset pattern buttons that insert common patterns
- "Try Example" buttons with pre-loaded patterns and texts (email finder, phone number validator, etc.)
- Match counter showing number of matches found</p>
<p><strong>Visual style:</strong> Matches highlighted in yellow within the text area; invalid patterns shown with red border and error message
<strong>Responsive:</strong> Full-width layout adjusting to window size</p>
<p><strong>Instructional Rationale:</strong> Immediate visual feedback on pattern matching lets students experiment freely and build intuition for regex syntax. Pre-loaded examples scaffold learning by showing practical use cases before students construct their own patterns.</p>
</details>
<h2 id="the-collections-module">The Collections Module</h2>
<p>Python's built-in <code>dict</code>, <code>list</code>, and <code>tuple</code> types are great, but sometimes you need specialized data structures. The <strong>collections module</strong> offers souped-up versions for common patterns.</p>
<h3 id="counter-class">Counter Class</h3>
<p>The <strong>Counter class</strong> counts how many times each item appears in a collection. It's perfect for frequency analysis.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="c1"># Count word frequencies</span>
<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"python"</span><span class="p">,</span> <span class="s2">"is"</span><span class="p">,</span> <span class="s2">"fun"</span><span class="p">,</span> <span class="s2">"python"</span><span class="p">,</span> <span class="s2">"is"</span><span class="p">,</span> <span class="s2">"great"</span><span class="p">,</span> <span class="s2">"python"</span><span class="p">]</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">word_counts</span><span class="p">)</span>
<span class="c1"># Counter({'python': 3, 'is': 2, 'fun': 1, 'great': 1})</span>

<span class="c1"># Most common items</span>
<span class="nb">print</span><span class="p">(</span><span class="n">word_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="c1"># [('python', 3), ('is', 2)]</span>

<span class="c1"># Count characters in a string</span>
<span class="n">char_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s2">"mississippi"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">char_counts</span><span class="p">)</span>
<span class="c1"># Counter({'s': 4, 'i': 4, 'p': 2, 'm': 1})</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="defaultdict">DefaultDict</h3>
<p>A <strong>DefaultDict</strong> is like a regular dictionary, but it never throws a <code>KeyError</code>. When you access a key that doesn't exist, it automatically creates a default value.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="c1"># Group students by grade level</span>
<span class="n">students</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">"Ada"</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s2">"Bob"</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="s2">"Cat"</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s2">"Dan"</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="s2">"Eve"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>

<span class="n">by_grade</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">grade</span> <span class="ow">in</span> <span class="n">students</span><span class="p">:</span>
    <span class="n">by_grade</span><span class="p">[</span><span class="n">grade</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">by_grade</span><span class="p">)</span>
<span class="c1"># defaultdict(&lt;class 'list'&gt;, {10: ['Ada', 'Cat', 'Eve'], 11: ['Bob', 'Dan']})</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Without <code>defaultdict</code>, you'd need to check if each key exists before appending. With it, the dictionary creates an empty list automatically for new keys.</p>
<h3 id="ordereddict">OrderedDict</h3>
<p>An <strong>OrderedDict</strong> remembers the order items were inserted. In modern Python (3.7+), regular dictionaries also maintain insertion order, but <code>OrderedDict</code> still has a useful trick: it supports <code>move_to_end()</code> and order-sensitive equality comparison.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>

<span class="n">rankings</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">rankings</span><span class="p">[</span><span class="s2">"gold"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Ada"</span>
<span class="n">rankings</span><span class="p">[</span><span class="s2">"silver"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Bob"</span>
<span class="n">rankings</span><span class="p">[</span><span class="s2">"bronze"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Cat"</span>

<span class="c1"># Move an item to the end</span>
<span class="n">rankings</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s2">"gold"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">rankings</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>  <span class="c1"># ['silver', 'bronze', 'gold']</span>

<span class="c1"># Two OrderedDicts with different order are NOT equal</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">"x"</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s2">"y"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">"y"</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s2">"x"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>  <span class="c1"># False (regular dicts would say True)</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="named-tuples">Named Tuples</h3>
<p><strong>Named tuples</strong> are tuples where each position has a name. They're like lightweight classes for storing structured data.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">"Point"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"x"</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">])</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

<span class="c1"># Access by name (much clearer than p[0])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># 3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># 7</span>

<span class="c1"># They're still tuples -- immutable and iterable</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>      <span class="c1"># 3</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span>         <span class="c1"># Unpacking works</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>  <span class="c1"># (3, 7)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Named tuples are perfect for returning multiple values from a function when you want the caller to access fields by name rather than by position.</p>
<h4 id="diagram-collections-module-overview">Diagram: Collections Module Overview</h4>
<iframe src="../../sims/collections-overview/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Collections Module Overview MicroSim</summary>
<p>Type: infographic
<strong>sim-id:</strong> collections-overview<br>
<strong>Library:</strong> p5.js<br>
<strong>Status:</strong> Specified</p>
<p><strong>Bloom Level:</strong> Remember (L1)
<strong>Bloom Verb:</strong> identify, describe</p>
<p><strong>Learning Objective:</strong> Students will be able to identify the four main collections module classes (Counter, defaultdict, OrderedDict, namedtuple) and describe when to use each one.</p>
<p><strong>Purpose:</strong> An interactive card-based overview where students can click on each collections class to see its definition, use case, and a short code example.</p>
<p><strong>Layout:</strong>
- Four large cards arranged in a 2x2 grid: Counter, defaultdict, OrderedDict, namedtuple
- Each card shows the class name, a one-line description, and an icon
- Clicking a card expands it to show a code example and a "when to use this" tip</p>
<p><strong>Interactive controls:</strong>
- Click any card to expand/collapse its detail view
- "Show All" button to expand all cards
- "Quiz Me" button that shows a use case description and asks the student to pick the right class</p>
<p><strong>Visual style:</strong> Colorful cards with rounded corners; Counter is orange, defaultdict is blue, OrderedDict is green, namedtuple is purple
<strong>Responsive:</strong> Cards stack vertically on narrow screens</p>
<p><strong>Instructional Rationale:</strong> Card-based exploration lets students self-pace through the four classes. The "Quiz Me" mode reinforces understanding by requiring students to match use cases to tools, building the judgment needed to select the right collection for a task.</p>
</details>
<h2 id="the-itertools-module">The Itertools Module</h2>
<p>The <strong>itertools module</strong> is a toolbox of fast, memory-efficient functions for working with iterators. It's like a Swiss Army knife for looping patterns.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">itertools</span>

<span class="c1"># chain: connect multiple iterables end-to-end</span>
<span class="n">combined</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]))</span>
<span class="c1"># [1, 2, 3, 4, 5, 6]</span>

<span class="c1"># combinations: all possible pairs (order doesn't matter)</span>
<span class="n">teams</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">([</span><span class="s2">"Ada"</span><span class="p">,</span> <span class="s2">"Bob"</span><span class="p">,</span> <span class="s2">"Cat"</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="c1"># [('Ada', 'Bob'), ('Ada', 'Cat'), ('Bob', 'Cat')]</span>

<span class="c1"># permutations: all possible arrangements (order matters)</span>
<span class="n">orders</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">permutations</span><span class="p">([</span><span class="s2">"A"</span><span class="p">,</span> <span class="s2">"B"</span><span class="p">,</span> <span class="s2">"C"</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="c1"># [('A', 'B'), ('A', 'C'), ('B', 'A'), ('B', 'C'), ('C', 'A'), ('C', 'B')]</span>

<span class="c1"># product: Cartesian product (all combos of two lists)</span>
<span class="n">grid</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="s2">"X"</span><span class="p">,</span> <span class="s2">"O"</span><span class="p">],</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="c1"># [('X', 'X'), ('X', 'O'), ('O', 'X'), ('O', 'O')]</span>

<span class="c1"># islice: slice an iterator without loading it all into memory</span>
<span class="n">first_five</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1"># [0, 1, 2, 3, 4]</span>

<span class="c1"># groupby: group consecutive items by a key</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">"A"</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s2">"A"</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s2">"B"</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s2">"B"</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">))</span>
<span class="c1"># A [('A', 1), ('A', 2)]</span>
<span class="c1"># B [('B', 3), ('B', 4)]</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The beauty of <code>itertools</code> is that these functions return iterators, not lists. They produce values lazily, just like generators -- perfect for handling large datasets.</p>
<h2 id="the-functools-module">The Functools Module</h2>
<p>The <strong>functools module</strong> provides tools for working with functions as first-class objects. Two of the most useful are <code>lru_cache</code> and <code>reduce</code>.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span><span class="p">,</span> <span class="n">reduce</span>

<span class="c1"># lru_cache: automatically cache function results</span>
<span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>  <span class="c1"># Instant! Without caching, this would take forever</span>

<span class="c1"># reduce: combine all items into a single value</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">numbers</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>  <span class="c1"># 120 (1 * 2 * 3 * 4 * 5)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The <code>@lru_cache</code> decorator is pure magic for recursive functions. It remembers previous results so the same computation never runs twice. Remember how slow recursive Fibonacci was in Chapter 7? With <code>lru_cache</code>, it's instant.</p>
<div class="admonition mascot-encourage">
<p class="admonition-title">Monty says: You've got this!</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/monty-encourages.png" data-desc-position="bottom"><img align="left" alt="Monty" src="../../img/monty-encourages.png" width="80"></a>
Don't worry if some of these modules feel overwhelming right now. You don't need to memorize every function. The real skill is knowing these tools <em>exist</em> so you can look them up when you need them. Professional developers check the docs all the time!</p>
</div>
<h2 id="context-manager-protocol">Context Manager Protocol</h2>
<p>You've used <code>with open(...)</code> to read files. But have you wondered how it works under the hood? The <strong>context manager protocol</strong> is the mechanism that makes <code>with</code> statements work. A context manager guarantees that setup and cleanup code runs, even if an error occurs.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># You've seen this pattern:</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"data.txt"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="c1"># File is automatically closed, even if an error happened</span>

<span class="c1"># You can write your own context managers:</span>
<span class="k">class</span> <span class="nc">Timer</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">time</span>
        <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Elapsed: </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> seconds"</span><span class="p">)</span>

<span class="k">with</span> <span class="n">Timer</span><span class="p">():</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">))</span>
<span class="c1"># Output: Elapsed: 0.0312 seconds</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The <code>__enter__</code> method runs at the start of the <code>with</code> block, and <code>__exit__</code> runs at the end -- no matter what. There's also a simpler way to create context managers using <code>contextlib</code>:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">timer</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">time</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">yield</span>  <span class="c1"># This is where the 'with' block runs</span>
    <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Elapsed: </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> seconds"</span><span class="p">)</span>

<span class="k">with</span> <span class="n">timer</span><span class="p">():</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">))</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Notice the <code>yield</code> in the middle? The code before <code>yield</code> is the setup, and the code after <code>yield</code> is the cleanup. The <code>@contextmanager</code> decorator turns a generator function into a context manager.</p>
<h4 id="diagram-context-manager-flow">Diagram: Context Manager Flow</h4>
<iframe src="../../sims/context-manager-flow/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Context Manager Flow MicroSim</summary>
<p>Type: microsim
<strong>sim-id:</strong> context-manager-flow<br>
<strong>Library:</strong> p5.js<br>
<strong>Status:</strong> Specified</p>
<p><strong>Bloom Level:</strong> Understand (L2)
<strong>Bloom Verb:</strong> explain, trace</p>
<p><strong>Learning Objective:</strong> Students will be able to trace the execution flow of a context manager, identifying when <strong>enter</strong> and <strong>exit</strong> are called.</p>
<p><strong>Purpose:</strong> An animated flowchart showing how a <code>with</code> statement triggers <strong>enter</strong>, runs the body, and then <strong>exit</strong> -- including the error path.</p>
<p><strong>Layout:</strong>
- Vertical flowchart with three main boxes: "Enter (<strong>enter</strong>)", "Body (your code)", "Exit (<strong>exit</strong>)"
- A branching path from "Body" showing both the success path and the error path
- Both paths converge at "<strong>exit</strong>" to show that cleanup always runs</p>
<p><strong>Interactive controls:</strong>
- "Normal Flow" button: animate the success path
- "Error Flow" button: animate what happens when the body raises an exception
- "Step Through" button for manual advancement
- Reset button</p>
<p><strong>Visual elements:</strong>
- Green glow for successful execution path
- Red glow for error path
- Both paths arriving at <strong>exit</strong> to emphasize guaranteed cleanup
- Code snippets alongside each step</p>
<p><strong>Instructional Rationale:</strong> Tracing the execution flow through both success and error paths demonstrates why context managers are valuable -- they guarantee cleanup. The error path visualization is particularly important for understanding the protocol's purpose.</p>
</details>
<h2 id="python-best-practices">Python Best Practices</h2>
<p>Now that you've seen all these advanced features, let's talk about <strong>Python best practices</strong> -- the habits that separate good code from great code.</p>
<p><strong>1. Follow PEP 8.</strong> PEP 8 is Python's official style guide. Use 4-space indentation, <code>snake_case</code> for variables and functions, <code>PascalCase</code> for classes, and <code>UPPER_SNAKE_CASE</code> for constants.</p>
<p><strong>2. Use type hints.</strong> They make your code self-documenting and help catch bugs early.</p>
<p><strong>3. Prefer generators for large data.</strong> If you're processing millions of items, don't load them all into memory. Use generators or generator expressions.</p>
<p><strong>4. Use dataclasses for data containers.</strong> If a class is just holding data, use <code>@dataclass</code> instead of writing boilerplate.</p>
<p><strong>5. Use context managers for resources.</strong> Files, database connections, network sockets -- anything that needs cleanup should use <code>with</code>.</p>
<p><strong>6. Write docstrings.</strong> Every function, class, and module should have a docstring explaining what it does.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_average</span><span class="p">(</span><span class="n">scores</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Calculate the arithmetic mean of a list of scores.</span>

<span class="sd">    Args:</span>
<span class="sd">        scores: A non-empty list of numeric scores.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The average score as a float.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the scores list is empty.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">scores</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Cannot average an empty list"</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>7. Keep functions small.</strong> If a function doesn't fit on your screen, it's probably doing too much. Break it up.</p>
<p><strong>8. Use meaningful names.</strong> <code>student_count</code> beats <code>sc</code>. <code>calculate_gpa</code> beats <code>calc</code>. Future-you will thank present-you.</p>
<h4 id="diagram-python-best-practices-checklist">Diagram: Python Best Practices Checklist</h4>
<iframe src="../../sims/python-best-practices/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Python Best Practices Checklist MicroSim</summary>
<p>Type: infographic
<strong>sim-id:</strong> python-best-practices<br>
<strong>Library:</strong> p5.js<br>
<strong>Status:</strong> Specified</p>
<p><strong>Bloom Level:</strong> Evaluate (L5)
<strong>Bloom Verb:</strong> assess, critique</p>
<p><strong>Learning Objective:</strong> Students will be able to evaluate Python code snippets against best practices and identify areas for improvement.</p>
<p><strong>Purpose:</strong> An interactive checklist where students review code snippets and check off which best practices each snippet follows or violates.</p>
<p><strong>Layout:</strong>
- Left panel: A code snippet display area showing Python code
- Right panel: A checklist of 8 best practices with checkboxes
- Bottom: "Check Answers" button and score display</p>
<p><strong>Interactive controls:</strong>
- "Next Snippet" button to cycle through 5 different code examples
- Checkboxes for each best practice (follows/violates)
- "Check Answers" button to reveal which practices the code follows or breaks
- Score tracker across all snippets</p>
<p><strong>Code snippets include:</strong>
1. A well-written function with type hints, docstring, and good names
2. A function with no type hints, single-letter variables, and no docstring
3. A class that should be a dataclass
4. Code that loads a huge file into a list instead of using a generator
5. Code that manually manages file closing instead of using <code>with</code></p>
<p><strong>Instructional Rationale:</strong> Evaluating code against a checklist builds the critical assessment skills that distinguish intermediate from advanced programmers. Seeing both good and bad examples helps students internalize the practices rather than just memorizing rules.</p>
</details>
<h2 id="putting-it-all-together">Putting It All Together</h2>
<p>Let's see how these advanced features combine in a realistic example. Here's a program that analyzes a text file and reports word frequency statistics, using generators, type hints, dataclasses, Counter, and context managers all in one place:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generator</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TextStats</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Statistics for a text analysis."""</span>
    <span class="n">total_words</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">unique_words</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">most_common</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
    <span class="n">average_word_length</span><span class="p">:</span> <span class="nb">float</span>

<span class="k">def</span> <span class="nf">clean_words</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""Yield cleaned, lowercase words from text."""</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">'[a-zA-Z]+'</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">analyze_text</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">top_n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextStats</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Analyze word frequency in a text file."""</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">clean_words</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()))</span>

    <span class="n">counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
    <span class="n">avg_length</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">words</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="k">if</span> <span class="n">words</span> <span class="k">else</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">TextStats</span><span class="p">(</span>
        <span class="n">total_words</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">),</span>
        <span class="n">unique_words</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">counts</span><span class="p">),</span>
        <span class="n">most_common</span><span class="o">=</span><span class="n">counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="n">top_n</span><span class="p">),</span>
        <span class="n">average_word_length</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">avg_length</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">)</span>

<span class="n">stats</span> <span class="o">=</span> <span class="n">analyze_text</span><span class="p">(</span><span class="s2">"my_essay.txt"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Look at how cleanly these features work together. The <code>@dataclass</code> eliminates boilerplate. The generator <code>clean_words</code> processes text lazily. Type hints document every function. The <code>Counter</code> handles frequency counting in one line. And the <code>with</code> statement ensures the file gets closed.</p>
<div class="admonition mascot-celebration">
<p class="admonition-title">Monty says: You've got this!</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/monty-celebrates.png" data-desc-position="bottom"><img align="left" alt="Monty" src="../../img/monty-celebrates.png" width="80"></a>
You did it, coder! You just conquered the most advanced chapter in the entire course. These features -- generators, decorators, type hints, dataclasses, regex, and the standard library modules -- are the tools that professional Python developers use every day. You're not just learning Python anymore. You're writing <em>Pythonic</em> code. That's something to celebrate!</p>
</div>
<h2 id="key-takeaways">Key Takeaways</h2>
<ul>
<li><strong>Generators</strong> produce values lazily, one at a time, using the <strong>yield statement</strong>. <strong>Generator expressions</strong> use parentheses instead of brackets for a compact syntax.</li>
<li><strong>Decorators</strong> wrap functions with extra behavior using the <code>@decorator</code> syntax. They rely on <strong>closures</strong> -- inner functions that remember outer variables.</li>
<li><strong>Args and kwargs</strong> (<code>*args</code>, <code>**kwargs</code>) let functions accept variable numbers of arguments. The <strong>unpacking operators</strong> <code>*</code> and <code>**</code> can also unpack collections.</li>
<li>The <strong>walrus operator</strong> (<code>:=</code>) assigns and evaluates in a single expression.</li>
<li><strong>Type hints</strong> and <strong>type annotations</strong> document expected types without changing runtime behavior.</li>
<li><strong>Dataclasses</strong> auto-generate <code>__init__</code>, <code>__repr__</code>, and <code>__eq__</code> for data-holding classes.</li>
<li>The <strong>enum type</strong> defines named constants for fixed sets of choices.</li>
<li><strong>Regular expressions</strong> provide powerful pattern matching for text processing.</li>
<li>The <strong>collections module</strong> offers <strong>Counter</strong>, <strong>DefaultDict</strong>, <strong>OrderedDict</strong>, and <strong>named tuples</strong> for specialized data handling.</li>
<li>The <strong>itertools module</strong> provides memory-efficient looping tools; the <strong>functools module</strong> offers function utilities like caching.</li>
<li><strong>List vs generator memory</strong>: lists store everything; generators produce on demand.</li>
<li><strong>Comprehension patterns</strong> work for lists, dicts, sets, and generators.</li>
<li>The <strong>context manager protocol</strong> (<code>__enter__</code>/<code>__exit__</code>) guarantees cleanup in <code>with</code> statements.</li>
<li><strong>Python best practices</strong> include PEP 8 style, type hints, docstrings, and choosing the right tool for the job.</li>
</ul>
<details class="question">
<summary>Check Your Understanding: What's the difference between <code>yield</code> and <code>return</code>?</summary>
<p>The <code>return</code> statement sends back a value and <em>terminates</em> the function permanently. The <code>yield</code> statement sends back a value and <em>pauses</em> the function, allowing it to resume from where it left off the next time a value is requested. Functions that use <code>yield</code> are called generators, and they produce values lazily rather than all at once.</p>
</details>
<details class="question">
<summary>Check Your Understanding: When would you use a <code>defaultdict</code> instead of a regular <code>dict</code>?</summary>
<p>Use a <code>defaultdict</code> when you want to automatically create a default value for missing keys instead of getting a <code>KeyError</code>. For example, if you're grouping items into lists by category, <code>defaultdict(list)</code> automatically creates an empty list the first time you access a new key, so you can just <code>append</code> without checking if the key exists first.</p>
</details>
<details class="question">
<summary>Check Your Understanding: What does the <code>@lru_cache</code> decorator do, and why is it useful for recursive functions?</summary>
<p>The <code>@lru_cache</code> decorator (from <code>functools</code>) automatically caches the results of function calls. When the function is called with arguments it has seen before, it returns the cached result instead of recomputing it. This is especially powerful for recursive functions like Fibonacci, where the same sub-problems are solved many times. Without caching, <code>fibonacci(50)</code> would take an impractical amount of time. With <code>@lru_cache</code>, each unique call is computed only once, making it nearly instant.</p>
</details>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../19-algorithm-analysis/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 19. Algorithm Analysis">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                19. Algorithm Analysis
              </div>
            </div>
          </a>
        
        
          
          <a href="../../sims/" class="md-footer__link md-footer__link--next" aria-label="Next: List of MicroSims">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                List of MicroSims
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2026 Dan McCreary. Licensed under <a href="license/">CC BY-NC-SA 4.0</a> for non-commercial use.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>